<div class="container">
  <rmmr-header></rmmr-header>

  <!-- Entries -->
  <div class="panel panel-default">
    <!-- Default panel contents -->
    <div class="panel-heading">Write a new entry</div>
    <div class="panel-body">
      <textarea class="form-control" ng-model="home.memory" rows="3" placeholder="Start your next entry"></textarea>
      <div class="pull-right star-add-container">
        <span class="glyphicon pick-me-up-star" ng-class="{ 'glyphicon-star-empty' : !home.isPickMeUp, 'glyphicon-star' : home.isPickMeUp }" ng-click="home.togglePickMeUp()"></span>
        <span><button ng-click="home.addEntry()" type="button" class="btn btn-primary">Save</button></span>
      </div>
    </div>

    <!-- List group -->
    <ul class="list-group">
      <!-- 'barrel_bottom' keeps the entries reference populated. -->
      <!-- If the user deletes all of their entries, the entries reference will be removed from the firebase and cause errors when $firebase attempts to refer to it. -->
      <li class="list-group-item" ng-class="{ 'hidden' : key === 'barrel_bottom' }" ng-repeat="(key, entry) in home.entries">
        <span class="glyphicon glyphicon-remove pull-right" ng-click="home.removeEntry(key)"></span>
        <p>{{ entry.date | date: 'shortDate' }}</p>
        <p>{{ entry.memory }}</p>
        <p>isPickMeUp? {{ entry.isPickMeUp }}</p>
      </li>
    </ul>
  </div>

  <change-password ng-show="changePassword.isTemporaryPassword"></change-password>
</div>
